#N canvas 0 97 2560 1343 12;
#X obj 1219 174 inlet;
#X text 1263 173 density;
#X obj 972 174 inlet;
#X text 1018 174 spray;
#X obj 372 183 inlet;
#X text 421 183 position;
#X obj 821 178 inlet;
#X text 868 179 speed;
#X obj 981 934 clone grain \$2 \$1 44.1 \$3, f 43;
#X obj 964 1033 outlet~;
#X obj 1431 206 get sflen length;
#X obj 1431 172 inlet;
#X text 1481 171 pointer to length;
#X obj 372 410 clip 0 1, f 17;
#X obj 1013 251 f;
#X obj 1013 303 -, f 6;
#X obj 1054 251 / 2, f 4;
#X obj 372 296 f;
#X obj 686 176 inlet;
#X text 730 176 grain size;
#X obj 733 404 clip 0 1;
#X obj 1054 277 t f f;
#X obj 1330 174 inlet;
#X text 1380 173 flux;
#X obj 733 635 f;
#X obj 733 375 f 100;
#X obj 796 337 t b f, f 18;
#X text 937 607 if density updates also update the speed at which to
play grains, f 25;
#X text 767 636 time per grain in ms;
#X obj 285 185 inlet;
#X text 284 161 play;
#X obj 1013 332 t b f;
#X obj 719 728 count \$2;
#X msg 719 755 set \$1;
#X obj 981 902 calculate_params, f 43;
#X obj 733 432 t f f;
#X obj 972 218 t b b f f, f 18;
#X obj 659 702 t b b, f 8;
#X obj 544 934 clone grain \$2 \$1 44.1 \$3, f 43;
#X obj 543 1038 outlet~;
#X obj 544 902 calculate_params, f 43;
#X obj 659 670 metro 6.25;
#X obj 733 601 / 1, f 27;
#N canvas 0 97 450 300 check_non_zero 0;
#X obj 49 33 inlet;
#X obj 49 218 outlet;
#X obj 49 91 t f f;
#X obj 84 120 == 0;
#X obj 49 156 + 0;
#X obj 49 63 * 10000;
#X obj 49 186 / 10000;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 4 1;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X restore 821 205 pd check_non_zero;
#X obj 821 231 t f f;
#X obj 805 258 recip;
#X obj 733 573 *, f 8;
#X obj 754 509 t b f;
#X obj 733 539 f;
#X floatatom 852 671 5 0 0 0 - - -;
#X floatatom 739 270 5 0 0 0 - - -;
#X floatatom 817 552 5 0 0 0 - - -;
#X floatatom 838 415 5 0 0 0 - - -;
#X obj 469 981 line~;
#X msg 469 957 \$1 10;
#X obj 543 1008 *~;
#X obj 889 978 line~;
#X obj 963 1005 *~;
#X obj 387 256 r \$0-gr_up;
#X obj 468 256 r \$0-spray_act;
#X obj 1013 384 s \$0-gr_up;
#X obj 430 357 r \$0-half_spray;
#X obj 488 382 r \$0-max_grain_range;
#X obj 372 443 s \$0-clipped_position;
#X obj 638 340 r \$0-gr_up;
#X obj 285 212 s \$0-play;
#X obj 1031 194 r \$0-soundfile_length;
#X obj 1219 218 s \$0-density;
#X obj 1330 215 s \$0-flux;
#X obj 1431 237 s \$0-soundfile_length;
#X obj 438 902 r \$0-set_inst;
#X obj 468 936 r \$0-play;
#X obj 544 873 r \$0-calc;
#X obj 603 830 r \$0-clipped_position;
#X obj 663 875 r \$0-spray;
#X obj 722 852 r \$0-clipped_grain_size;
#X obj 782 875 r \$0-speed;
#X obj 858 875 r \$0-flux;
#X obj 981 873 r \$0-calc;
#X obj 881 902 r \$0-set_inst;
#X obj 1040 829 r \$0-clipped_position;
#X obj 1100 875 r \$0-spray;
#X obj 1159 852 r \$0-clipped_grain_size;
#X obj 1219 876 r \$0-speed;
#X obj 1297 876 r \$0-flux;
#X obj 786 375 r \$0-max_grain_range;
#X obj 765 460 s \$0-clipped_grain_size;
#X obj 754 484 r \$0-recip_speed;
#X obj 853 259 s \$0-speed;
#X obj 805 285 s \$0-recip_speed;
#X obj 796 308 r \$0-density;
#X obj 1095 250 s \$0-spray;
#X obj 1086 300 s \$0-half_spray;
#X obj 1045 360 s \$0-max_grain_range;
#X obj 902 241 s \$0-spray_act;
#X obj 659 636 r \$0-play;
#X obj 644 728 s \$0-calc;
#X obj 772 703 r \$0-density;
#X obj 719 781 s \$0-set_inst;
#X connect 0 0 67 0;
#X connect 2 0 36 0;
#X connect 4 0 17 0;
#X connect 6 0 43 0;
#X connect 8 0 57 1;
#X connect 10 0 69 0;
#X connect 11 0 10 0;
#X connect 13 0 63 0;
#X connect 14 0 15 0;
#X connect 15 0 31 0;
#X connect 16 0 21 0;
#X connect 17 0 13 0;
#X connect 18 0 25 0;
#X connect 18 0 50 0;
#X connect 20 0 35 0;
#X connect 21 0 15 1;
#X connect 21 1 92 0;
#X connect 22 0 68 0;
#X connect 24 0 41 1;
#X connect 24 0 49 0;
#X connect 25 0 20 0;
#X connect 26 0 25 0;
#X connect 26 1 42 1;
#X connect 29 0 65 0;
#X connect 31 0 60 0;
#X connect 31 1 93 0;
#X connect 32 0 33 0;
#X connect 33 0 98 0;
#X connect 34 0 8 0;
#X connect 34 1 8 1;
#X connect 34 2 8 2;
#X connect 35 0 48 0;
#X connect 35 1 86 0;
#X connect 36 0 94 0;
#X connect 36 1 14 0;
#X connect 36 2 16 0;
#X connect 36 3 91 0;
#X connect 37 0 96 0;
#X connect 37 1 32 0;
#X connect 38 0 55 1;
#X connect 40 0 38 0;
#X connect 40 1 38 1;
#X connect 40 2 38 2;
#X connect 41 0 37 0;
#X connect 42 0 24 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 44 1 88 0;
#X connect 45 0 89 0;
#X connect 46 0 42 0;
#X connect 47 0 48 0;
#X connect 47 1 46 1;
#X connect 47 1 51 0;
#X connect 48 0 46 0;
#X connect 53 0 55 0;
#X connect 54 0 53 0;
#X connect 54 0 56 0;
#X connect 55 0 39 0;
#X connect 56 0 57 0;
#X connect 57 0 9 0;
#X connect 58 0 17 0;
#X connect 59 0 17 0;
#X connect 61 0 13 1;
#X connect 62 0 13 2;
#X connect 64 0 25 0;
#X connect 66 0 14 1;
#X connect 70 0 38 0;
#X connect 71 0 54 0;
#X connect 72 0 40 0;
#X connect 73 0 40 1;
#X connect 74 0 40 2;
#X connect 75 0 40 3;
#X connect 76 0 40 4;
#X connect 77 0 40 5;
#X connect 78 0 34 0;
#X connect 79 0 8 0;
#X connect 80 0 34 1;
#X connect 81 0 34 2;
#X connect 82 0 34 3;
#X connect 83 0 34 4;
#X connect 84 0 34 5;
#X connect 85 0 20 2;
#X connect 85 0 52 0;
#X connect 87 0 47 0;
#X connect 90 0 26 0;
#X connect 95 0 41 0;
#X connect 97 0 32 1;
